<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <meta charset="UTF-8">
  <title>Polygon Hand</title>
  <style>

    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
    }

    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100vw;
      overflow: hidden;
    }

    .palm-text {
      position: absolute;
      top: 55%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.5rem;
      background: rgba(255, 255, 255, 0.8);
      padding: 0.3em 0.6em;
      border-radius: 0.5em;
      pointer-events: none;
    }

    svg {
      width: 100vw;
      height: auto;
      aspect-ratio: 1 / 1;
      display: block;
    }

    polygon {
      stroke-width: 2;
      transition: fill 0.3s ease, stroke 0.3s ease;
      cursor: pointer;
    }

    .thumb { fill: #e54; stroke: #e54; }
    .index { fill: #e22; stroke: #e22; }
    .mid   { fill: #e33; stroke: #e33; }
    .ring  { fill: #e54; stroke: #e54; }
    .pinky { fill: #e65; stroke: #e65; }
    .palm  { fill: #e44; stroke: #e44; }
    .arm   { fill: #e54; stroke: #e54; }


    polygon:hover {
      fill: #ff7f50;
      stroke: #ff7f50;
    }

    /* desktop */
    @media (min-width: 1000px) {
      svg {
        height: auto;
        width: 100vw;
        aspect-ratio: 1 / 1;
        display: block;
      }
    }

    /* mobile */
    @media (max-width: 999px) {
      svg {
        width: auto;
        height: 100vh;
        aspect-ratio: 1 / 1;
        display: block;
      }
    }

    .font-stretch {
      transform: scale(1,.5);
    }

  </style>
</head>
<body>

  <div class="container">
    <svg id="hand" viewBox="-200 -400 1500 1800" xmlns="http://www.w3.org/2000/svg"> <!--1250,1000 for desktop, 1000,1250 for phone-->

      <text x="630" y="500" text-anchor="middle" font-size="60" fill="white" stroke="black" stroke-width="0.2vw">
        <tspan id="main-text-bot">Bram Stuyven</tspan>
          <animateTransform
            attributeName="transform"
            type="translate"
            values="0,-20; 0,20; 0,-20;"
            dur="3s"
            repeatCount="indefinite"
            calcMode="spline"
            keyTimes="0; 0.5; 1"
            keySplines="0.42 0 0.58 1; 0.42 0 0.58 1"/>
      </text>

      <!-- Arm -->
      <polygon id="arm" class="arm" points="885,620 2100,1800 1750,2100 640,740" />

      <!-- Thumb -->
      <g id="thumb" class="hover-group">
        <polygon id="thumb-base" class="thumb" points="830,500 670,430 645,330 710,270" />
        <polygon id="thumb-tip" class="thumb" points="710,270 645,330 560,285 560,240" />
      </g>
      
      <!-- Index Finger -->
      <g id="index" class="hover-group">
        <polygon id="index-base" class="index" points="570,420 445,515 450,280 515,300" />
        <polygon id="index-tip" class="index" points="515,300 450,280 540,140 575,160" />
      </g>

      <!-- Middle Finger -->
      <g id="middle" class="hover-group">
        <polygon id="middle-base" class="mid" points="490,454 420,585 350,320 425,330" />
        <polygon id="middle-tip" class="mid" points="425,330 350,320 435,160 470,180" />
      </g>

      <!-- Ring Finger -->
      <g id="ring" class="hover-group">
        <polygon id="ring-base" class="ring" points="445,515 400,650 280,420 350,400" />
        <polygon id="ring-tip" class="ring" points="350,400 280,420 290,240 330,240" />
      </g>

      <!-- Pinky -->
      <g id="pinky" class="hover-group">
        <polygon id="pinky-base" class="pinky" points="420,585 480,670 380,650 240,530 300,500" />
        <polygon id="pinky-tip" class="pinky" points="300,500 240,530 220,350 260,350" />  
      </g>

      <!-- Palm -->
      <polygon id="palm" class="palm" points="885,620 640,740 480,670 420,585 445,515 490,454 570,420 670,430 830,500" />

      <text x="630" y="500" text-anchor="middle" font-size="60" fill="white">
        <tspan id="main-text">Bram Stuyven</tspan>
          <animateTransform
            attributeName="transform"
            type="translate"
            values="0,-20; 0,20; 0,-20;"
            dur="3s"
            repeatCount="indefinite"
            calcMode="spline"
            keyTimes="0; 0.5; 1"
            keySplines="0.42 0 0.58 1; 0.42 0 0.58 1"/>
      </text>
      
      <g id="text-wrapper" transform="scale(1, 0.5)">
        <text x="630" y="1100" text-anchor="middle" font-size="60" fill="black">
          <tspan id="main-text-shadow">Bram Stuyven</tspan>
            <animateTransform
              attributeName="transform"
              type="translate"
              values="0,-20; 0,20; 0,-20;"
              dur="3s"
              repeatCount="indefinite"
              calcMode="spline"
              keyTimes="0; 0.5; 1"
              keySplines="0.42 0 0.58 1; 0.42 0 0.58 1"/>
        </text>
      </g>
    </svg>
  </div>
  

<script>
  fingers={
     "index":{
        "finger":document.getElementById("index"),
        "base":{
          "obj":document.getElementById("index-base"),
          "default":"570,420 445,515 365,330 430,315",
          "stretch":"570,420 445,515 350,350 415,330",
        },
        "tip":{
          "obj":document.getElementById("index-tip"),
          "default":"430,315 365,330 315,180 355,165",
          "stretch":"415,330 350,350 275,205 315,185",
        },
     },
     "middle":{
        "finger":document.getElementById("middle"),
        "base":{
          "obj":document.getElementById("middle-base"),
          "default":"490,454 420,585 230,420 275,370",
          "stretch":"490,454 420,585 220,430 265,380",
        },
        "tip":{
          "obj":document.getElementById("middle-tip"),
          "default":"275,370 230,420 130,250 170,230",
          "stretch":"265,380 220,430 100,290 135,265",
        },
     },
     "ring":{
        "finger":document.getElementById("ring"),
        "base":{
          "obj":document.getElementById("ring-base"),
          "default":"445,515 480,670 195,535 225,460",
          "stretch":"445,515 480,670 185,555 215,480",
        },
        "tip":{
          "obj":document.getElementById("ring-tip"),
          "default":"225,460 195,535 75,360 110,335",
          "stretch":"215,480 185,555 40,420 65,385",
        },
     },
     "pinky":{
        "finger":document.getElementById("pinky"),
        "base":{
          "obj":document.getElementById("pinky-base"),
          "default":"420,585 480,670 400,680 245,700 255,625",
          "stretch":"420,585 480,670 400,685 245,710 255,635",
        },
        "tip":{
          "obj":document.getElementById("pinky-tip"),
          "default":"255,625 245,700 100,590 135,560",
          "stretch":"255,635 245,710 90,650 105,610",
        },
     },
     "thumb":{
        "finger":document.getElementById("thumb"),
        "base":{
          "obj":document.getElementById("thumb-base"),
          "default":"830,500 670,430 670,315 750,290",
          "stretch":"830,500 670,430 685,310 770,285",
        },
        "tip":{
          "obj":document.getElementById("thumb-tip"),
          "default":"750,290 670,315 640,215 655,170",
          "stretch":"770,285 685,310 685,185 725,145",
        },
     }
  };

  const text = document.getElementById("main-text");
  const text_bot = document.getElementById("main-text-bot");
  const text_shadow = document.getElementById("main-text-shadow");

  const fingerMessages = {
    thumb: "Professional",
    index: "Goals",
    middle: "Music",
    ring: "Theatre",
    pinky: "Honorable Mentions",
  };

  for (const [finger, source] of Object.entries(fingers)) {
    console.log(finger)
    source['finger'].addEventListener("mouseenter", () => {
      text.textContent = fingerMessages[finger];
      text_bot.textContent = fingerMessages[finger];
      text_shadow.textContent = fingerMessages[finger];

      if (!isReady) return;
      gsap.to(source['base']['obj'], {
        duration: 0.2,
        attr: { points: source['base']['stretch'] },
        ease: "power1.out"
      });
      gsap.to(source['tip']['obj'], {
        duration: 0.2,
        attr: { points: source['tip']['stretch'] },
        ease: "power1.out"
      });
    });

    source['finger'].addEventListener("mouseleave", () => {
      text.textContent = "Bram Stuyven";
      text_bot.textContent = "Bram Stuyven";
      text_shadow.textContent = "Bram Stuyven";

      if (!isReady) return;
      gsap.to(source['base']['obj'], {
        duration: 0.2,
        attr: { points: source['base']['default'] },
        ease: "power1.in"
      });
      gsap.to(source['tip']['obj'], {
        duration: 0.2,
        attr: { points: source['tip']['default'] },
        ease: "power1.in"
      });
    });
  }

  let isReady = false;
  window.addEventListener("DOMContentLoaded", () => {
    const hand = document.getElementById("hand");

    // Start with opacity 0
    gsap.set(hand, { opacity: 0 });

    // Fade in
    gsap.to(hand, {
      duration: 3.5,
      opacity: 1,
      ease: "power2.inOut",
      onComplete: () => {
        isReady = true;
    }
    });


    for (const [finger, source] of Object.entries(fingers)) {
      // Initial animation when the page loads
      gsap.to(source['base']['obj'], {
        duration: 3.5,
        attr: { points: source['base']['default'] },
        ease: "power2.out",
        delay: 0.2
      });

      gsap.to(source['tip']['obj'], {
        duration: 3.5,
        attr: { points: source['tip']['default'] },
        ease: "power2.out",
        delay: 0.2
      });
    }
  });
</script>
